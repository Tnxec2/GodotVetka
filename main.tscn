[gd_scene load_steps=22 format=2]

[ext_resource path="res://assets/sky1.png" type="Texture" id=1]
[ext_resource path="res://Map.gd" type="Script" id=2]
[ext_resource path="res://assets/ui/yellow_panel.png" type="Texture" id=3]
[ext_resource path="res://textures/button_red_pressed.tres" type="StyleBox" id=4]
[ext_resource path="res://textures/button_red_normal.tres" type="StyleBox" id=5]
[ext_resource path="res://game.gd" type="Script" id=6]
[ext_resource path="res://textures/button_green_pressed.tres" type="StyleBox" id=7]
[ext_resource path="res://textures/font_button_green.tres" type="DynamicFont" id=8]
[ext_resource path="res://textures/button_yellow_normal.tres" type="StyleBox" id=9]
[ext_resource path="res://textures/button_yellow_pressed.tres" type="StyleBox" id=10]
[ext_resource path="res://textures/button_green_normal.tres" type="StyleBox" id=11]
[ext_resource path="res://textures/font_button_yellow.tres" type="DynamicFont" id=12]
[ext_resource path="res://textures/font_button_blue.tres" type="DynamicFont" id=13]
[ext_resource path="res://textures/button_blue_pressed.tres" type="StyleBox" id=14]
[ext_resource path="res://textures/button_blue_normal.tres" type="StyleBox" id=15]

[sub_resource type="DynamicFontData" id=1]
font_path = "res://assets/ui/kenvector_future.ttf"

[sub_resource type="DynamicFont" id=2]
size = 17
outline_size = 2
outline_color = Color( 1, 0.560784, 0, 1 )
font_data = SubResource( 1 )

[sub_resource type="DynamicFontData" id=3]
font_path = "res://assets/ui/kenvector_future.ttf"

[sub_resource type="DynamicFont" id=4]
size = 64
outline_size = 2
font_data = SubResource( 3 )

[sub_resource type="DynamicFontData" id=5]
font_path = "res://assets/ui/Gameplay.ttf"

[sub_resource type="DynamicFont" id=6]
size = 44
outline_size = 2
outline_color = Color( 1, 0.560784, 0, 1 )
extra_spacing_char = 3
font_data = SubResource( 5 )

[node name="Game" type="Node2D"]
script = ExtResource( 6 )

[node name="Sky1" type="Sprite" parent="."]
position = Vector2( 480, 320 )
scale = Vector2( 0.516667, 0.56 )
texture = ExtResource( 1 )

[node name="ViewportContainer" type="ViewportContainer" parent="."]
margin_left = 146.0
margin_right = 960.0
margin_bottom = 640.0
mouse_filter = 2
stretch = true

[node name="Viewport" type="Viewport" parent="ViewportContainer"]
size = Vector2( 814, 640 )
transparent_bg = true
handle_input_locally = false
physics_object_picking = true

[node name="Map" type="Node2D" parent="ViewportContainer/Viewport"]
script = ExtResource( 2 )

[node name="UI" type="Control" parent="."]
margin_right = 960.0
margin_bottom = 640.0
mouse_filter = 2

[node name="ButtonLevel" type="Button" parent="UI"]
anchor_top = 1.0
anchor_bottom = 1.0
margin_left = 24.0
margin_top = -232.0
margin_right = 132.0
margin_bottom = -168.0
mouse_default_cursor_shape = 2
custom_colors/font_color_disabled = Color( 1, 1, 1, 1 )
custom_colors/font_color_focus = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 1, 1, 1, 1 )
custom_colors/font_color_pressed = Color( 1, 1, 1, 1 )
custom_fonts/font = ExtResource( 12 )
custom_styles/hover = ExtResource( 9 )
custom_styles/pressed = ExtResource( 10 )
custom_styles/disabled = ExtResource( 9 )
custom_styles/normal = ExtResource( 9 )
shortcut_in_tooltip = false
text = "level"

[node name="ButtonCancel" type="Button" parent="UI"]
margin_left = 24.0
margin_top = 24.0
margin_right = 132.0
margin_bottom = 88.0
mouse_default_cursor_shape = 2
custom_colors/font_color_disabled = Color( 1, 1, 1, 1 )
custom_colors/font_color_focus = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 1, 1, 1, 1 )
custom_colors/font_color_pressed = Color( 1, 1, 1, 1 )
custom_fonts/font = SubResource( 2 )
custom_styles/hover = ExtResource( 5 )
custom_styles/pressed = ExtResource( 4 )
custom_styles/disabled = ExtResource( 5 )
custom_styles/normal = ExtResource( 5 )
shortcut_in_tooltip = false
text = "cancel"

[node name="ButtonRun" type="Button" parent="UI"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_left = -936.0
margin_top = -136.0
margin_right = -828.0
margin_bottom = -28.0
mouse_default_cursor_shape = 2
custom_colors/font_color_disabled = Color( 1, 1, 1, 1 )
custom_colors/font_color_focus = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 1, 1, 1, 1 )
custom_colors/font_color_pressed = Color( 1, 1, 1, 1 )
custom_fonts/font = ExtResource( 8 )
custom_styles/hover = ExtResource( 11 )
custom_styles/pressed = ExtResource( 7 )
custom_styles/disabled = ExtResource( 11 )
custom_styles/normal = ExtResource( 11 )
shortcut_in_tooltip = false
text = "run"

[node name="Label" type="Label" parent="UI"]
visible = false
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_top = -36.0
margin_bottom = 36.0
mouse_filter = 1
custom_colors/font_color = Color( 0, 0, 0, 1 )
custom_colors/font_outline_modulate = Color( 1, 1, 1, 1 )
custom_fonts/font = SubResource( 4 )
text = "3"
align = 1

[node name="GameOverPopupDialog" type="Popup" parent="UI"]
visible = true
anchor_right = 1.0
anchor_bottom = 1.0

[node name="TextureRect" type="NinePatchRect" parent="UI/GameOverPopupDialog"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
margin_left = -176.0
margin_top = -136.0
margin_right = 352.0
margin_bottom = 148.0
texture = ExtResource( 3 )
patch_margin_left = 10
patch_margin_top = 10
patch_margin_right = 10
patch_margin_bottom = 10

[node name="Label" type="Label" parent="UI/GameOverPopupDialog/TextureRect"]
anchor_top = 0.5
anchor_right = 1.0
anchor_bottom = 0.5
margin_top = -43.5
margin_bottom = 9.5
custom_fonts/font = SubResource( 6 )
text = "cancel game"
align = 1

[node name="ButtonNewGame" type="Button" parent="UI/GameOverPopupDialog/TextureRect"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = -240.0
margin_top = -82.0
margin_right = -77.0
margin_bottom = -18.0
mouse_default_cursor_shape = 2
custom_colors/font_color_disabled = Color( 1, 1, 1, 1 )
custom_colors/font_color_focus = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 1, 1, 1, 1 )
custom_colors/font_color_pressed = Color( 1, 1, 1, 1 )
custom_fonts/font = ExtResource( 12 )
custom_styles/hover = ExtResource( 5 )
custom_styles/pressed = ExtResource( 7 )
custom_styles/disabled = ExtResource( 5 )
custom_styles/normal = ExtResource( 5 )
shortcut_in_tooltip = false
text = "new game"

[node name="ButtonResume" type="Button" parent="UI/GameOverPopupDialog/TextureRect"]
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
margin_left = 80.0
margin_top = -82.0
margin_right = 243.0
margin_bottom = -18.0
mouse_default_cursor_shape = 2
custom_colors/font_color_disabled = Color( 1, 1, 1, 1 )
custom_colors/font_color_focus = Color( 1, 1, 1, 1 )
custom_colors/font_color = Color( 1, 1, 1, 1 )
custom_colors/font_color_hover = Color( 1, 1, 1, 1 )
custom_colors/font_color_pressed = Color( 1, 1, 1, 1 )
custom_fonts/font = ExtResource( 13 )
custom_styles/hover = ExtResource( 15 )
custom_styles/pressed = ExtResource( 14 )
custom_styles/disabled = ExtResource( 15 )
custom_styles/normal = ExtResource( 15 )
shortcut_in_tooltip = false
text = "resume"

[node name="LabelDebug" type="Label" parent="UI"]
visible = false
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
margin_top = -20.0
custom_fonts/font = ExtResource( 8 )
text = "test"
align = 2

[connection signal="show_game_over_popup" from="ViewportContainer/Viewport/Map" to="." method="_on_Map_show_game_over_popup"]
[connection signal="pressed" from="UI/ButtonLevel" to="." method="_on_ButtonLevel_pressed"]
[connection signal="pressed" from="UI/ButtonCancel" to="." method="_on_ButtonCancel_pressed"]
[connection signal="pressed" from="UI/ButtonRun" to="." method="_on_ButtonRun_pressed"]
[connection signal="pressed" from="UI/GameOverPopupDialog/TextureRect/ButtonNewGame" to="." method="_on_ButtonNewGame_pressed"]
[connection signal="pressed" from="UI/GameOverPopupDialog/TextureRect/ButtonResume" to="." method="_on_ButtonResume_pressed"]
